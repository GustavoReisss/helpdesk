<div class="container mat-elevation-z8">
    <h1 class="fullWidth">Atualizar Chamado</h1>
    <img class="fullWidth" 
         src="assets/img/chamado-create.svg" 
         alt="Chamado image">

    <form class="form">
        <mat-form-field class="fullWidth" appearance="outline">
          <mat-label>Título do Chamado</mat-label>
          <input [(ngModel)]="chamado.titulo"
                 name="titulo"
                 [formControl]="titulo"
                 required
                 matInput 
                 placeholder="Ex. Trocar bateria de notebook">
        </mat-form-field>      
      </form>

      <div class="status-prioridade">
        <mat-form-field appearance="outline">
            <mat-label>Selecione STATUS</mat-label>
            <mat-select [(ngModel)]="chamado.status"
                        [formControl]="status"
                        required>
              <mat-option value="0">ABERTO</mat-option>
              <mat-option value="1">EM ANDAMENTO</mat-option>
              <mat-option value="2">ENCERRADO</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Selecione PRIORIDADE</mat-label>
            <mat-select [(ngModel)]="chamado.prioridade"
                        [formControl]="prioridade"
                        required>
              <mat-option value="0">BAIXA</mat-option>
              <mat-option value="1">MÉDIA</mat-option>
              <mat-option value="2">ALTA</mat-option>
            </mat-select>
        </mat-form-field>
      </div>

      <div class="tecnico">
        <mat-form-field class="fullWidth" appearance="outline">
            <mat-label>Selecione TÉCNICO</mat-label>
            <mat-select [(ngModel)]="chamado.tecnico"
                        [formControl]="tecnico"
                        required>
              <mat-option *ngFor="let tecnico of tecnicos" 
                          value="{{ tecnico.id }}">
                          {{tecnico.nome}}
              </mat-option>
            </mat-select>
        </mat-form-field>            
      </div>

      <div class="cliente">
        <mat-form-field class="fullWidth" appearance="outline">
            <mat-label>Selecione CLIENTE</mat-label>
            <mat-select [(ngModel)]="chamado.cliente"
                        [formControl]="cliente"
                        required>
              <mat-option *ngFor="let cliente of clientes"
                          value="{{ cliente.id }}">
                          {{ cliente.nome }}
              </mat-option>
            </mat-select>
        </mat-form-field>            
      </div>

      <form class="form">
        <mat-form-field class="fullWidth" appearance="outline">
          <mat-label>Deixe uma OBSERVAÇÃO</mat-label>
          <textarea [(ngModel)]="chamado.observacoes"
                    [formControl]="observacoes"
                    required
                    class="descricao"
                    matInput 
                    placeholder="Ex. Trocar bateria de notebook queimada...">
          </textarea>
        </mat-form-field>
      </form>

      <button (click)="update()"
              [disabled]="!validaCampos()"
              class="fullWidth mat-elevation-z4"
              mat-raised-button 
              color="primary">
              Atualizar
      </button>
      <button routerLink="../"
              class="fullWidth mat-elevation-z4" 
              mat-stroked-button 
              color="warn">
              Cancelar
      </button>

      <p class="fullWidth">Desenvolvido por Felipe Santos</p>
</div>
